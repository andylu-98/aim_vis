<!DOCTYPE html>
<html>
	<head>
		<title> Interface test</title>
		<script type="text/javascript">

			var numberOfCities;
			var coordinatesOfCities;
			var parameter1;
			var parameter2;
			var parameter3;
			var parameter4;
			var parameter5;
			var parameter6;

			//check whether number is within the range lower ~ upper
			function checkRange(number, lower, upper){
				if(number >= lower && number <= upper) return true;
				return false;
			}

			//check whether an element is a space or not
			function checkSpace(element){
				if(element === ' ') return false;
				return true;
			}

			//check whether an element is a number or not
			function checkNumber(element){
				if (parseInt(element) == element || parseFloat(element) == element) return true;
				return false;
			}

			//check the inputs on EnterNumberOfCities page and prompt message accordingly
			//the number of cities should be an integer
			function checkCity(){
				var input = document.querySelector(".input").firstChild.value;
				if (parseInt(input)!==parseFloat(input) || parseInt(input)!= input || parseFloat(input) != input) {
					//either number is NaN, or number is not an integer number
					document.querySelector('.warning').innerHTML="Please Enter an Integer Number!";
					return 1;
				}
				numberOfCities = parseInt(input);
				toDiv2();
			}

			//check the inputs on EnterCoordinates page and prompt accordingly
			//the coordinates of cities should match the number of cities entered on the EnterNumberOfCities page
			//the coordinates could be integers or floats seperated be space, tab, or return
			function checkCoordinates(){
				var input = document.querySelector(".input").firstChild.value;
				input = input.replace(/\t/g, " ");
				input = input.replace(/\r/g, " ");
				input = input.replace(/\n/g, " ");
				var coordinates = input.split(" ");
				coordinates = coordinates.filter(checkSpace);
				if(!coordinates.every(checkNumber) || coordinates.length % 2 !== 0){
					document.querySelector('.warning').innerHTML="Invalid format!";
					return 1;
				}
				if(coordinates.length / 2 !== numberOfCities){
					document.querySelector('.warning').innerHTML="Please enter " + numberOfCities + " cities!";
					return 1;
				}
				coordinatesOfCities = coordinates.map(Number);
				console.log(coordinatesOfCities);
				console.log(numberOfCities);
				toDiv3();
			}

			//check the parameter values on EnterParameters page and prompt accordingly
			//the parameters should match the specification of specified algorithm on each web page
			function checkParameters(){

			}

			//Enter EnterNumberOfCities page
			function toDiv1(){
				var el = document.getElementById("div");
				el.innerHTML =
				'<p>Enter number of cities:</p>' +
				'<div id="numberofcities">' +
				'<p class="input"><input type="text" value="5" size="5" maxlength="3">' +
				'<button type="button" onclick="checkCity()">Enter</button></p>' +
				'<p class = "warning"></p></div>';
			}

			//Enter EnterCoordinates page
			function toDiv2(){
				var el = document.getElementById("div");
				el.innerHTML =
				'<p>Enter city coordinates:</p>'+
				'<div id="coordinates">'+
				'<p class="input">'+
				'<textarea rows="12" cols="12"></textarea>'+
				'<button type="button" onclick="checkCoordinates()">Enter</button></p>'+
				'<p class = "warning"></p></div>';
			}

			////Enter EnterParameters page
			function toDiv3(){
				var el = document.getElementById("div");
				el.innerHTML =
				'<p>Enter parameters:</p>'+
				'<div id="parameters">'+
				'<p id="p1"><span>p1: </span><input type="text" value="default"><span class = "warning"></span></p>'+
				'<p id="p2"><span>p2: </span><input type="text" value="default"><span class = "warning"></span></p>'+
				'<p id="p3"><span>p3: </span><input type="text" value="default"><span class = "warning"></span></p>'+
				'<p id="p4"><span>p4: </span><input type="text" value="default"><span class = "warning"></span></p>'+
				'<p id="p5"><span>p5: </span><input type="text" value="default"><span class = "warning"></span></p>'+
				'<p id="p6"><span>p6: </span><input type="text" value="default"><span class = "warning"></span></p>'+
				'<button type="button" onclick="checkParameters()">Enter</button></div>';
			}
		</script>
	</head>
	<body>
		<h1>Interface test</h1>
		<p>Description</p>
		<div id="div">
			<p>Use default setting: <button id="default "type="button" onclick="">Default</button></p>
			<p>Define your own setting: <button id="custom" type="button" onclick="toDiv1()">Custom</button></p>
		</div>
	</body>
</html>
